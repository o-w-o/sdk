<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="303px" preserveAspectRatio="none" style="width:463px;height:303px;" version="1.1" viewBox="0 0 463 303" width="463.8px" zoomAndPan="magnify"><defs><filter height="300%" id="fy4tio0qmrk5s" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="1.2"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="2.4" dy="2.4" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><!--MD5=[9b354ac78d9816af00f6e81900636e9a]
cluster o.w.o.server.io.db--><polygon fill="#FFFFFF" filter="url(#fy4tio0qmrk5s)" points="136.8,150,216.6,150,220.8,165.0721,234,165.0721,234,211.2,136.8,211.2,136.8,150" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><line style="stroke: #000000; stroke-width: 0.8999999999999999;" x1="136.8" x2="220.8" y1="165.0721" y2="165.0721"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="76.2" x="139.2" y="160.8264">o.w.o.server.io.db</text><!--MD5=[0bd9a0e189b2de279a2994671fc493ba]
cluster o.w.o.resource.symbol--><polygon fill="#FFFFFF" filter="url(#fy4tio0qmrk5s)" points="13.2,14.4,111.6,14.4,115.8,29.4721,450.6,29.4721,450.6,135.6,13.2,135.6,13.2,14.4" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><line style="stroke: #000000; stroke-width: 0.8999999999999999;" x1="13.2" x2="115.8" y1="29.4721" y2="29.4721"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94.8" x="15.6" y="25.2264">o.w.o.resource.symbol</text><!--MD5=[bd0bd4c41e0e5269e37474fd45a6abb7]
cluster repository--><polygon fill="#FFFFFF" filter="url(#fy4tio0qmrk5s)" points="264.6,46.5,311.4,46.5,315.6,61.5721,436.2,61.5721,436.2,116.7,264.6,116.7,264.6,46.5" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><line style="stroke: #000000; stroke-width: 0.8999999999999999;" x1="264.6" x2="315.6" y1="61.5721" y2="61.5721"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="43.2" x="267" y="57.3264">repository</text><!--MD5=[27f772719433d509ddbc20ff768eba08]
cluster domain--><polygon fill="#FFFFFF" filter="url(#fy4tio0qmrk5s)" points="27.6,42,61.8,42,66,57.0721,250.2,57.0721,250.2,121.2,27.6,121.2,27.6,42" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><line style="stroke: #000000; stroke-width: 0.8999999999999999;" x1="27.6" x2="66" y1="57.0721" y2="57.0721"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="30.6" x="30" y="52.8264">domain</text><!--MD5=[625fee6706e61dd7c5d358c370a7b82a]
cluster o.w.o.server.io.runner--><polygon fill="#FFFFFF" filter="url(#fy4tio0qmrk5s)" points="248.4,150,346.2,150,350.4,165.0721,403.2,165.0721,403.2,295.8,248.4,295.8,248.4,150" style="stroke: #000000; stroke-width: 0.8999999999999999;"/><line style="stroke: #000000; stroke-width: 0.8999999999999999;" x1="248.4" x2="350.4" y1="165.0721" y2="165.0721"/><text fill="#000000" font-family="sans-serif" font-size="8.4" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="94.2" x="250.8" y="160.8264">o.w.o.server.io.runner</text><!--MD5=[6845d7967a516d6d9c8b65ca92d8593a]
class EntityEnumerated--><rect fill="#FEFECE" filter="url(#fy4tio0qmrk5s)" height="28.8" id="EntityEnumerated" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="77.4" x="146.7" y="172.8"/><ellipse cx="155.7" cy="182.4" fill="#E3664A" rx="6.6" ry="6.6" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M154.7531,184.5 Q154.3594,184.5 154.2844,184.1531 Q154.2094,183.8063 153.9,183.2344 Q153.9,182.3531 154.4813,181.425 Q155.0625,180.4875 155.6063,180.4875 Q155.8219,180.4875 155.9719,180.6 Q156.1313,180.7125 155.9906,180.8156 L155.9063,180.4875 L156.75,180.4875 L156.3563,182.7281 Q156.3188,183 156.2625,183.1969 Q156.2344,183.3656 156.2344,183.4406 Q156.2344,183.4781 156.2344,183.4875 Q156.2438,183.4875 156.2438,183.4875 Q156.4688,183.4875 156.6844,183.075 Q156.9,182.6531 156.9,181.8469 Q156.9,180.5156 156.4219,180.1125 Q155.9438,179.7 155.4094,179.7 Q154.7719,179.7 154.2375,180.3281 Q153.7125,180.9562 153.7125,182.5688 Q153.7125,183.975 154.0781,184.6313 Q154.4438,185.2875 155.4094,185.2875 Q156,185.2875 156.45,185.0156 Q156.9094,184.7438 157.3125,184.05 L157.9969,184.2656 Q157.4344,185.4281 156.825,185.8688 Q156.2156,186.3 155.4188,186.3 Q154.1813,186.3 153.4406,185.2219 Q152.7,184.1437 152.7,182.5594 Q152.7,180.7969 153.6,179.7469 Q154.5094,178.6875 155.5219,178.6875 Q156.5063,178.6875 157.2094,179.4281 Q157.9125,180.1688 157.9125,181.7719 Q157.9125,183.0469 157.275,183.7781 Q156.6375,184.5 156.1969,184.5 Q155.8875,184.5 155.6625,184.3125 Q155.4375,184.1156 155.5406,184.0219 Q155.5969,184.1531 155.3344,184.3312 Q155.0812,184.5 154.7531,184.5 Z M154.9875,183.4875 Q155.1094,183.4875 155.2313,183.3563 Q155.3625,183.2156 155.4656,182.8875 L155.7094,181.575 Q155.7188,181.5281 155.7,181.5187 Q155.6906,181.5 155.625,181.5 Q155.4938,181.5 155.2031,181.9781 Q154.9125,182.4562 154.9125,183.2344 Q154.9125,183.4125 154.9313,183.45 Q154.9594,183.4875 154.9875,183.4875 Z "/><text fill="#000000" font-family="sans-serif" font-size="7.2" lengthAdjust="spacingAndGlyphs" textLength="58.2" x="164.1" y="185.7346">EntityEnumerated</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="147.3" x2="223.5" y1="192" y2="192"/><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="147.3" x2="223.5" y1="196.8" y2="196.8"/><!--MD5=[e37b7a67f6a73ae84165404a1ceb359a]
class EntityTypeRepository--><rect fill="#FEFECE" filter="url(#fy4tio0qmrk5s)" height="37.8138" id="EntityTypeRepository" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="152.4" x="274.2" y="69.3"/><ellipse cx="283.2" cy="78.9" fill="#B4A7E5" rx="6.6" ry="6.6" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M281.325,76.5 L281.325,75.4875 L284.8875,75.4875 L284.8875,76.5 L283.7625,76.5 Q283.6688,76.5 283.6406,76.5188 Q283.6125,76.5375 283.6125,76.5656 L283.6125,81.4219 Q283.6125,81.45 283.6406,81.4688 Q283.6688,81.4875 283.7625,81.4875 L284.8875,81.4875 L284.8875,82.5 L281.325,82.5 L281.325,81.4875 L282.45,81.4875 Q282.5719,81.4875 282.5813,81.4781 Q282.6,81.4688 282.6,81.4219 L282.6,76.5656 Q282.6,76.5188 282.5813,76.5094 Q282.5719,76.5 282.45,76.5 L281.325,76.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="7.2" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="69.6" x="291.6" y="82.2346">EntityTypeRepository</text><rect fill="#FFFFFF" height="11.0332" style="stroke: #000000; stroke-width: 0.6; stroke-dasharray: 2.0,2.0;" width="62.4" x="366" y="67.5"/><text fill="#000000" font-family="sans-serif" font-size="7.2" font-style="italic" lengthAdjust="spacingAndGlyphs" textLength="61.2" x="366.6" y="76.3512">Integer, EntityType</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="274.8" x2="426" y1="88.5" y2="88.5"/><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="274.8" x2="426" y1="93.3" y2="93.3"/><ellipse cx="280.8" cy="99.9" fill="#84BE84" rx="1.8" ry="1.8" style="stroke: #038048; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="6.6" lengthAdjust="spacingAndGlyphs" textLength="63.6" x="286.2" y="103.2636">save(EntityType type)</text><!--MD5=[95548c13781eba021113a1d95525e7ed]
class EntityType--><rect fill="#FEFECE" filter="url(#fy4tio0qmrk5s)" height="37.8138" id="EntityType" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="110.4" x="130.2" y="69.3"/><ellipse cx="166.35" cy="78.9" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M166.1625,82.5 Q165,82.5 164.325,81.6469 Q163.65,80.7844 163.65,79.0125 Q163.65,77.5125 164.3625,76.5 Q165.075,75.4875 166.3125,75.4875 Q166.5844,75.4875 166.8469,75.4875 Q167.1094,75.4875 167.2969,75.4875 Q167.4469,75.4875 167.5406,75.4875 Q167.6437,75.4875 167.8875,75.4875 L168.3094,77.7 L167.6719,77.7 Q167.4094,77.0438 167.0625,76.7719 Q166.725,76.5 166.1719,76.5 Q165.4781,76.5 165.0656,77.2125 Q164.6625,77.9156 164.6625,79.0125 Q164.6625,80.2219 164.9719,80.8594 Q165.2906,81.4875 166.1344,81.4875 Q166.6875,81.4875 167.0719,81.15 Q167.4656,80.8031 167.6719,79.9688 L168.2906,80.2781 Q168.0563,81.3281 167.4938,81.9188 Q166.9313,82.5 166.1625,82.5 Z "/><text fill="#000000" font-family="sans-serif" font-size="7.2" lengthAdjust="spacingAndGlyphs" textLength="33" x="178.65" y="82.2346">EntityType</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="130.8" x2="240" y1="88.5" y2="88.5"/><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="130.8" x2="240" y1="93.3" y2="93.3"/><ellipse cx="136.8" cy="99.9" fill="#84BE84" rx="1.8" ry="1.8" style="stroke: #038048; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="6.6" lengthAdjust="spacingAndGlyphs" textLength="94.8" x="142.2" y="103.2636">EntityType(EntityTypeEnum type)</text><!--MD5=[979b2c7add54b601bdff95ac5f617f8a]
class EntityTypeEnum--><rect fill="#FEFECE" filter="url(#fy4tio0qmrk5s)" height="46.8275" id="EntityTypeEnum" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="72" x="37.2" y="64.8"/><ellipse cx="46.2" cy="74.4" fill="#EB937F" rx="6.6" ry="6.6" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M43.8375,72 L43.8375,70.9875 L48.4594,70.9875 L49.1156,72.6 L48.5344,72.6 Q48.1406,72.2719 47.7563,72.1406 Q47.3719,72 46.9125,72 L45.6188,72 Q45.4875,72 45.4219,72 Q45.3656,72 45.4125,72 L45.4125,73.3875 L46.2937,73.3875 Q46.5656,73.3875 46.6781,73.2281 Q46.8,73.0688 46.8,72.675 L46.8,72.1875 L47.8125,72.1875 L47.8125,75.6 L46.8,75.6 L46.8,75.2156 Q46.8,74.7844 46.6781,74.5969 Q46.5563,74.4 46.2937,74.4 L45.4125,74.4 L45.4125,76.9031 Q45.4125,76.9406 45.45,76.9688 Q45.4875,76.9875 45.6,76.9875 L46.7531,76.9875 Q47.4281,76.9875 47.8031,76.7344 Q48.1781,76.4719 48.4688,75.7875 L49.0688,75.7875 L48.4969,78 L43.8,78 L43.8,76.9875 L44.2406,76.9875 Q44.3719,76.9875 44.3813,76.9781 Q44.4,76.9688 44.4,76.9219 L44.4,72.0656 Q44.4,72.0188 44.3813,72.0094 Q44.3719,72 44.2406,72 L43.8375,72 Z "/><text fill="#000000" font-family="sans-serif" font-size="7.2" lengthAdjust="spacingAndGlyphs" textLength="52.8" x="54.6" y="77.7346">EntityTypeEnum</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="37.8" x2="108.6" y1="84" y2="84"/><ellipse cx="43.8" cy="90.6" fill="none" rx="1.8" ry="1.8" style="stroke: #038048; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="6.6" lengthAdjust="spacingAndGlyphs" textLength="26.4" x="49.2" y="93.9636">Integer id</text><ellipse cx="43.8" cy="99.6138" fill="none" rx="1.8" ry="1.8" style="stroke: #038048; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="6.6" lengthAdjust="spacingAndGlyphs" textLength="47.4" x="49.2" y="102.9773">String typeName</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="37.8" x2="108.6" y1="106.8275" y2="106.8275"/><!--MD5=[c122890d7aef3b22cf79bfb9cabe05bf]
class EnumeratedEntitySetupRunner--><rect fill="#FEFECE" filter="url(#fy4tio0qmrk5s)" height="28.8" id="EnumeratedEntitySetupRunner" style="stroke: #A80036; stroke-width: 0.8999999999999999;" width="121.2" x="261.6" y="172.8"/><ellipse cx="270.6" cy="182.4" fill="#ADD1B2" rx="6.6" ry="6.6" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M270.4125,186 Q269.25,186 268.575,185.1469 Q267.9,184.2844 267.9,182.5125 Q267.9,181.0125 268.6125,180 Q269.325,178.9875 270.5625,178.9875 Q270.8344,178.9875 271.0969,178.9875 Q271.3594,178.9875 271.5469,178.9875 Q271.6969,178.9875 271.7906,178.9875 Q271.8938,178.9875 272.1375,178.9875 L272.5594,181.2 L271.9219,181.2 Q271.6594,180.5438 271.3125,180.2719 Q270.975,180 270.4219,180 Q269.7281,180 269.3156,180.7125 Q268.9125,181.4156 268.9125,182.5125 Q268.9125,183.7219 269.2219,184.3594 Q269.5406,184.9875 270.3844,184.9875 Q270.9375,184.9875 271.3219,184.65 Q271.7156,184.3031 271.9219,183.4688 L272.5406,183.7781 Q272.3063,184.8281 271.7438,185.4188 Q271.1813,186 270.4125,186 Z "/><text fill="#000000" font-family="sans-serif" font-size="7.2" lengthAdjust="spacingAndGlyphs" textLength="102" x="279" y="185.7346">EnumeratedEntitySetupRunner</text><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="262.2" x2="382.2" y1="192" y2="192"/><line style="stroke: #A80036; stroke-width: 0.8999999999999999;" x1="262.2" x2="382.2" y1="196.8" y2="196.8"/><path d="M258.3,237.6 L258.3,286.2105 A0,0 0 0 0 258.3,286.2105 L393.3,286.2105 A0,0 0 0 0 393.3,286.2105 L393.3,243.6 L387.3,237.6 L327.03,237.6 L322.8774,201.6246 L322.23,237.6 L258.3,237.6 A0,0 0 0 0 258.3,237.6 " fill="#FBFB77" filter="url(#fy4tio0qmrk5s)" style="stroke: #A80036; stroke-width: 0.6;"/><path d="M387.3,237.6 L387.3,243.6 L393.3,243.6 L387.3,237.6 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 0.6;"/><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="15.6" x="261.9" y="249.5388">基于</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="75" x="279.9" y="249.5388">@EntityEnumerated</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="15.6" x="357.3" y="249.5388">注解</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="15.6" x="261.9" y="260.1914">借助</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="79.8" x="279.9" y="260.1914">EntityTypeRepository</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="15.6" x="261.9" y="270.844">使用</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="61.2" x="279.9" y="270.844">EntityTypeEnum</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="15.6" x="343.5" y="270.844">枚举</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="31.2" x="261.9" y="281.4967">进行实体</text><text fill="#000000" font-family="sans-serif" font-size="7.8" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="39.6" x="295.5" y="281.4967">EntityType</text><text fill="#000000" font-family="sans-serif" font-size="7.8" lengthAdjust="spacingAndGlyphs" textLength="46.8" x="337.5" y="281.4967">收集和持久化</text><!--MD5=[9989c2d9608ded3d6b7a02e83a311a05]
reverse link EntityType to EntityEnumerated--><path d="M185.4,115.02 C185.4,133.5828 185.4,157.746 185.4,172.7112 " fill="none" id="EntityType&lt;-EntityEnumerated" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="185.4,107.1954,183,110.7954,185.4,114.3954,187.8,110.7954,185.4,107.1954" style="stroke: #A80036; stroke-width: 0.6;"/><!--MD5=[d9879d4e8a5cac9389c9ecce2b3fa1f6]
reverse link EntityTypeRepository to EntityEnumerated--><path d="M308.6076,110.9742 C289.9896,121.0908 267.9072,133.4208 248.4,145.2 C233.835,153.9948 217.8168,164.5332 205.5768,172.7766 " fill="none" id="EntityTypeRepository&lt;-EntityEnumerated" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="315.5604,107.211,311.252,106.8141,309.2285,110.6384,313.5369,111.0353,315.5604,107.211" style="stroke: #A80036; stroke-width: 0.6;"/><!--MD5=[e68216e16362a4708cb015cdc8b5de58]
reverse link EntityTypeEnum to EntityEnumerated--><path d="M97.0254,117.762 C103.9104,125.4612 111.6636,133.5372 119.4,140.4 C132.9498,152.4198 149.6796,164.1012 162.9054,172.7112 " fill="none" id="EntityTypeEnum&lt;-EntityEnumerated" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="91.707,111.699,92.2768,115.988,96.455,117.1116,95.8852,112.8226,91.707,111.699" style="stroke: #A80036; stroke-width: 0.6;"/><!--MD5=[8f82ffe03d73e2e442564a128d056bad]
reverse link EntityEnumerated to EnumeratedEntitySetupRunner--><path d="M232.02,187.2 C241.8426,187.2 251.6658,187.2 261.4884,187.2 " fill="none" id="EntityEnumerated&lt;-EnumeratedEntitySetupRunner" style="stroke: #A80036; stroke-width: 0.6;"/><polygon fill="#A80036" points="224.142,187.2,227.742,189.6,231.342,187.2,227.742,184.8,224.142,187.2" style="stroke: #A80036; stroke-width: 0.6;"/><!--MD5=[b9f19b920e342b6337abf311664367f6]
@startuml



package o.w.o.server.io.db {
    annotation EntityEnumerated {}
}

package o.w.o.resource.symbol {
    package repository {
      interface EntityTypeRepository<Integer, EntityType> {
        + save(EntityType type)
      }
    }

    package domain {
      class EntityType {
        + EntityType(EntityTypeEnum type)
      }
      enum EntityTypeEnum {
        + Integer id
        + String typeName
      }
    }
}

EntityType *- - EntityEnumerated
EntityTypeRepository *- - EntityEnumerated
EntityTypeEnum *- - EntityEnumerated

package o.w.o.server.io.runner {
    class EnumeratedEntitySetupRunner {}
    note bottom of EnumeratedEntitySetupRunner
      基于 <b>@EntityEnumerated</b> 注解
      借助 <b>EntityTypeRepository</b>
      使用 <b>EntityTypeEnum</b> 枚举
      进行实体 <b>EntityType</b> 收集和持久化
    end note
}
EnumeratedEntitySetupRunner -right- -* EntityEnumerated
@enduml

PlantUML version 1.2020.09(Sun May 10 18:51:06 CST 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.7+10-b765.53
Operating System: Windows 10
Default Encoding: GBK
Language: zh
Country: CN
--></g></svg>